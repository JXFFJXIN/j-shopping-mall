# 技术框架
## 技术
Vue
AntDesign
Vue-Router
Vuex
Axios
v-charts
## 工具
vue/cli
eslint
# 页面分析
## 整体布局
1. 布局

两列布局,左侧定宽,右侧自适应

2. 功能

左侧菜单栏:利用vue-router切换右侧内容区域,数据配置,路由也动态配置,

右侧吊顶:面包写

用户信息展示:鼠标移入用户信息和退出按钮

## 统计界面功能以及可用技术

1. 卡片展示:antdesign实现

2. 图表展示(曲线图):v-charts实现

## 商品列表页

1. 搜索栏:antdesign实现input,select,新增商品按钮

2. 表格渲染数据:antdesign

属性字段: ...

操作按钮: 编辑,删除

需要分页

附加功能:批量处理(删除,上架,下架)

## 新增或编辑商品页

1. 功能流程:AntDesign实现

第一步,基本信息录入:普通表单

第二步,商品销售信息的录入:附带图片上传的表单

2. 校验功能

3. 区分新增和编辑的区分,编辑时需要初始化数据,创建时需要清空数据

## 商品类目界面

1. 类目列表:分页9

属性字段

2. 新增类目的弹窗

## 登录和注册页面

1. 账号密码的登录和表单校验

需要使用到动态路由来传递数据

使用路由拦截来读取用户权限进行动态设置路由

同时动态设置页面中的导航信息(导航信息直接修改即可)
# 搭建工程
1. vue-cli:vue create mall-app
vue-router  vuex  eslint less 

2. 安装其他需要的技术

ant-design:vue add ant-design

axios

v-charts
# 结构页面,Home页面
# 优化代码
## 组件化(布局)
1. 分模块到不同的文件中
2. 主模块的样式scoped应该取消,否则应用不到
3. 由于不同组件中存在数据交换,可以使用prop进行交互,也可以使用vuex进行数据交互
# 路由拦截(登录界面)

1. 路由处理

2. 登录组件

3. axios网络请求

拦截配置
```js
import axios from 'axios';

// 基本请求路径设置
const instance = axios.create({
  baseURL: 'https://mallapi.duyiedu.com/',
});

// 请求拦截器
instance.interceptors.request.use((config) => {
  console.log(config);
  return config;
}, (error) => Promise.reject(error));

// 响应拦截器
instance.interceptors.response.use(({ data }) => {
  console.log(data.status);
  if (data.status === 'fail') {
    return Promise.reject(data.msg);
  }
  return data.data;
}, (error) => Promise.reject(error));

export default instance;
```

请求接口
```js
import axios from '@/axios';

export default {
  login(params) {
    return axios.post('/passport/login', params);
  },
};
```

使用接口
```js
submitForm(formName) {
  this.$refs[formName].validate((valid) => {
    if (valid) {
      api.login(this.loginForm).then((res) => {
        console.log(res);
        const that = this;
        this.$message.success('登录成功', () => {
          that.$router.push({
            name: 'Home',
          });
        });
      }).catch((error) => {
        this.$message.error(error);
      });
      return true;
    }
    console.log('error submit!!');
    return false;
  });
},
```




